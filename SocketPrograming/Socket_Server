import socket 

HEADER = 64
FORMAT = 'utf-8'
DISCONNECT_MESSAGE = "!DISCONNECT"
SERVER = "127.0.0.1"
# SERVER = socket.gethostbyname(socket.gethostname())
PORT = 8080
ADDR = (SERVER, PORT)

server = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
server.bind(ADDR)

#listen(1) means that the server will listen for 1 connection at a time
server.listen(1)

print("[STARTING] server is starting...")
print(f"[LISTENING] Server is listening on {SERVER}")

connected = True
while connected:
    #accept() returns a tuple of two values: the connection and the address
    conn, addr = server.accept()
    print("Connected client: ", addr)
    msg = conn.recv(1024)
    print("From Client: ", msg.decode())
    conn.send(bytes("Successfully Connected to Server!!",'UTF-8'))
    conn.close()
